<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<ui:composition xmlns="http://www.w3.org/1999/xhtml"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:p="http://primefaces.org/ui"
	xmlns:pe="http://primefaces.org/ui/extensions">

	<h:panelGroup rendered="#{not empty model}">
		<p:commandLink id="infoLink" title="CLICK FOR OPEN DETAILS"
			actionListener="#{pageBean.prepareArtistDialog(model.artistId)}"
			global="true" update=":dialogGroup" process="@this">
			<h:outputText value="#{model.name}" style="float: left;" />
		</p:commandLink>
		<p:commandLink id="editLink" styleClass="fa fa-edit"
			style="margin-left: 10px; color: green;"
			title="#{msg.clickEditPerformance}"
			rendered="#{(utxModel.logged) and (not model.inPast)}"
			actionListener="#{editDialog.init(model)}" global="true"
			update=":dialogGroup" process="@this"
			oncomplete="PF('editDialogVar').show();">
			<p:resetInput target=":dialogGroup" />
		</p:commandLink>
		<h:panelGroup id="movedWarning" layout="block"
			styleClass="fa fa-warning" style="margin-left: 10px; color:red;"
			rendered="#{model.moved}">
			<pe:tooltip shared="false" atPosition="top center"
				myPosition="bottom center" for="movedWarning">
				<h:panelGroup id="tooltipContentContainer" layout="block"
					style="margin: 10px;">
					<h:outputText value="#{msg.warningPerformanceMoved}"
						style="font-weight: bold; color: red; font-size: medium" />
					<h:panelGrid id="tooltipGrid" columns="2" cellspacing="5"
						border="0" style="margin-top: 10px; font-size: medium">
						<h:outputText value="#{msg.from}:" style="font-weight: bold;" />
						<h:column>
							<h:outputText value="#{model.formerStartDate.time}">
								<f:convertDateTime type="both" dateStyle="medium"
									timeStyle="short" locale="#{languageBean.locale}" />
							</h:outputText>
							<h:outputText value=" - " />
							<h:outputText value="#{model.formerEndDate.time}">
								<f:convertDateTime type="time" timeStyle="short"
									locale="#{languageBean.locale}" />
							</h:outputText>
						</h:column>

						<h:outputText value="#{msg.at}:" style="font-weight: bold;" />
						<h:column>
							<h:outputText value="#{model.startDate.time}">
								<f:convertDateTime type="both" dateStyle="medium"
									timeStyle="short" locale="#{languageBean.locale}" />
							</h:outputText>
							<h:outputText value=" - " />
							<h:outputText value="#{model.endDate.time}">
								<f:convertDateTime type="time" timeStyle="short"
									locale="#{languageBean.locale}" />
							</h:outputText>
						</h:column>
					</h:panelGrid>
				</h:panelGroup>
			</pe:tooltip>
		</h:panelGroup>
	</h:panelGroup>
</ui:composition>